<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rezepte-Challenge Formular</title>
  <style>
    body { font-family: sans-serif; background: #f3f4f6; margin: 0; padding: 2rem; }
    .lang-toggle { text-align: right; max-width: 900px; margin: 0 auto 1rem; }
    .header { max-width: 900px; margin: 0 auto 2rem auto; text-align: center; }
    .header img { max-width: 150px; margin-top: 1rem; }
    .header h1 { font-size: 2rem; margin-bottom: 0.5rem; }
    .header p { font-size: 1rem; color: #333; }
    .intro-image-full { max-width: 900px; margin: 1rem auto; display: block; width: 100%; border-radius: 12px; box-shadow: 0 0 10px rgba(0,0,0,0.05); }
    .container { background: #fff; padding: 2rem; border-radius: 16px; max-width: 900px; margin: 2rem auto; box-shadow: 0 0 20px rgba(0,0,0,0.1); }
    label { font-weight: bold; margin-top: 1rem; display: block; }
    input, textarea, select { width: 100%; padding: 0.5rem; margin-top: 0.25rem; border: 1px solid #ccc; border-radius: 8px; box-sizing: border-box; }
    .table-wrapper { overflow-x: auto; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; min-width: 600px; }
    th, td { border: 1px solid #e5e7eb; padding: 0.5rem; text-align: left; }
    th { background-color: #f9fafb; }
    button { margin-top: 2rem; background-color: #2563eb; color: #fff; padding: 0.75rem; border: none; border-radius: 8px; font-size: 1rem; cursor: pointer; width: 100%; }
    button:hover { background-color: #1e40af; }
    .note { font-size: 0.85rem; color: #555; margin-top: 1rem; }
  </style>
</head>
<body>
  <div class="lang-toggle">
    <button onclick="switchLanguage()">DE / EN</button>
  </div>
  <div class="header">
    <h1 id="welcome">Herzlich Willkommen</h1>
    <p id="intro-text">Im Zeitraum von 23. Januar bis 05. Februar 2026 kannst du dein leckeres und gesundes Rezept für ein Hauptgericht bei uns einreichen...</p>
    <img src="logo_gesoca_mittel_cut.jpg" alt="Logo">
  </div>
  <img src="Screenshot 2025-06-21 230421.png" alt="Gesundheitsampel Info" class="intro-image-full">
  <img src="Screenshot 2025-06-21 231526.png" alt="Info zur Einreichung" class="intro-image-full">

  <div class="container">
    <form id="rezeptForm" action="https://formspree.io/f/mjkredbb" method="POST" enctype="multipart/form-data">
      <input type="hidden" name="_redirect" value="https://rezeptaktion.github.io/rezeptaktion/danke.html">

      <label for="standort" id="label-standort">Lieblingsstandort</label>
      <select id="standort" name="Lieblingsstandort" required>
        <option value="">Bitte auswählen</option>
        <option>Berlin</option>
        <option>MUE03</option>
        <option>Potsdam</option>
        <option>Ratingen</option>
        <option>Rot04</option>
        <option>St. Ingbert</option>
        <option>WDF03</option>
        <option>WDF08</option>
        <option>WDF13</option>
        <option>WDF20</option>
      </select>

      <label for="rezeptname" id="label-rezeptname">Name des Rezepts</label>
      <input type="text" id="rezeptname" name="Rezeptname" required>

      <label for="portionen" id="label-portionen">Anzahl Portionen</label>
      <input type="number" id="portionen" name="AnzahlPortionen" required>

      <label id="label-hauptzutaten">Hauptzutaten</label>
      <div class="table-wrapper">
        <table id="zutatenTabelle">
          <thead>
            <tr>
              <th id="th-zutat">Zutat</th>
              <th id="th-menge">Menge (roh)(g)</th>
              <th id="th-zubereitungsart">Zubereitungsart</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="text" name="Zutat_1" oninput="addRowIfNeeded(this)"></td>
              <td><input type="number" name="Menge_1" min="0"></td>
              <td>
                <select name="Zubereitungsart_1">
                  <option value="">Bitte auswählen</option>
                  <option>Gedämpft</option>
                  <option>Gekocht</option>
                  <option>Gegart</option>
                  <option>Frittiert</option>
                  <option>Roh</option>
                </select>
              </td>
            </tr>
          </tbody>
        </table>
      </div>

      <label for="zutaten" id="label-zutaten">Ergänzende Zutaten (z. B. Gewürze, Kräuter, Garnitur)</label>
      <textarea id="zutaten" name="Ergänzende_Zutaten" rows="3"></textarea>

      <label for="zubereitung" id="label-zubereitung">Zubereitungsart in Stichpunkten (Optional)</label>
      <textarea id="zubereitung" name="Zubereitungsschritte" rows="5"></textarea>

      <label for="bild" id="label-bild">Bild hochladen (optional)</label>
      <input type="file" id="bild" name="Rezeptbild" accept="image/*">

      <label for="name" id="label-name">SAP Mitarbeiter-ID</label>
      <input type="text" id="name" name="MitarbeiterID" required>

      <div class="note" id="note-text">Mit dem Absenden erkläre ich mich damit einverstanden, dass meine Angaben zur Bearbeitung der Aktion gespeichert und per E-Mail übermittelt werden.</div>

      <button type="submit" id="button-submit">Rezept absenden</button>
    </form>
  </div>

  <script>
    let zeilenIndex = 1;
    function addRowIfNeeded(input) {
      const tr = input.closest('tr');
      const tbody = document.getElementById('zutatenTabelle').getElementsByTagName('tbody')[0];
      const letzte = tbody.lastElementChild;
      if (tr === letzte && input.value.trim() !== '') {
        zeilenIndex++;
        const neue = document.createElement('tr');
        neue.innerHTML = `
          <td><input type="text" name="Zutat_${zeilenIndex}" oninput="addRowIfNeeded(this)"></td>
          <td><input type="number" name="Menge_${zeilenIndex}" min="0"></td>
          <td>
            <select name="Zubereitungsart_${zeilenIndex}">
              <option value="">Bitte auswählen</option>
              <option>Gedämpft</option>
              <option>Gekocht</option>
              <option>Gegart</option>
              <option>Frittiert</option>
              <option>Roh</option>
            </select>
          </td>`;
        tbody.appendChild(neue);
      }
    }
    document.getElementById('rezeptForm').addEventListener('submit', function () {
      const tbody = document.getElementById('zutatenTabelle').getElementsByTagName('tbody')[0];
      const inputs = tbody.lastElementChild.querySelectorAll('input, select');
      const allEmpty = Array.from(inputs).every(el => !el.value.trim());
      if (allEmpty) tbody.lastElementChild.remove();
    });

    // Language Switcher as before
  </script>
</body>
</html>
